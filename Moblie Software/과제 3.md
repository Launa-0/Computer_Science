06주차 강의자료 14페이지의 [실습 02] 를 구현하여 제출

※ MyCustomView 클래스는 05주차 강의자료에 첨부한 파일 사용

 

커스텀 뷰 MyCustomView 를 롱클릭하여 색상 변경 다이얼로그를 표시한 후 선택한 색상으로 원의 색상을 변경하도록 구현


1. myCustomView를 롱클릭하 면 다이얼로그 표시

2. SingleChoice 에서 색상 선 택 후 확인을 누를 경우 원의 색상 변경

• 선택한 색상을 기록하는 변수 사용

• 확인을 누르면 색상 변수의 선택한 색상으로 원의 색상 변경 수행

 

1. 제출물: 프로젝트 파일(.zip) 및 실행결과 이미지 캡처 파일(.png 또는 .jpg)

- 프로젝트 파일: [메뉴] → [File] → [Export] → [Export to Zip File...] 을 사용하여 zip 파일 생성 후 제출
  (예: 2025xxxx.zip)

- 실행화면 이미지 캡처 파일 (예: 2025xxxx.kt, 2025xxxx.png 또는 jpg)

2. 제출마감: 2025년 4월 30일(수) 오후 11시

3. 제출방법: 본 메뉴를 사용하여 파일 제출

 

질문이 있을 경우 [질의응답] 게시판을 이용하거 O.H 시간을 이용하여 문의하기 바랍니다.

 

 

import android.content.Context
import android.graphics.Canvas
import android.graphics.Color
import android.graphics.Paint
import android.os.Parcel
import android.os.Parcelable
import android.util.AttributeSet
import android.util.Log
import android.view.KeyEvent
import android.view.MotionEvent
import android.view.View
import android.widget.Toast
class MyCustomView @JvmOverloads constructor(
context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0
) : View(context, attrs, defStyleAttr) {
var posX = 200.0f
var posY = 200.0f
var radius = 100.0f
var color = Color.GREEN
override fun onDraw(canvas: Canvas) {
super.onDraw(canvas)
canvas.drawColor(Color.LTGRAY)
val paint = Paint()
paint.color = color
canvas.drawCircle(posX, posY, radius, paint)
}
fun setCircleColor(newColor: Int) {
color = newColor
invalidate()
}
}
MyCustomView 클래스 
 
 

MainActivity.kt
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
import android.graphics.Color
import android.os.Bundle
import androidx.activity.enableEdgeToEdge
import androidx.appcompat.app.AlertDialog
import androidx.appcompat.app.AppCompatActivity
import androidx.core.view.ViewCompat
import androidx.core.view.WindowInsetsCompat
import ddwu.com.mobile.eventtest.MyCustomView
 
class MainActivity : AppCompatActivity() {
    lateinit var myCustomView: MyCustomView
    var selectedColor = Color.RED
 
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContentView(R.layout.activity_main)
 
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main)) { v, insets ->
            val systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars())
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom)
            insets
        }
 
        myCustomView = findViewById(R.id.myCustomView)
 
        myCustomView.setOnLongClickListener {
            val colors = arrayOf("Red", "Cyan", "Blue")
            val colorValues = arrayOf(Color.RED, Color.CYAN, Color.BLUE)
            var selectedIndex = 0
 
            AlertDialog.Builder(this)
                .setTitle("색상 선택")
                .setSingleChoiceItems(colors, -1) { _, which ->
                    selectedIndex = which
                    selectedColor = colorValues[which]
                }
                .setPositiveButton("확인") { _, _ ->
                    myCustomView.setCircleColor(selectedColor)
                }
                .setNegativeButton("취소", null)
                .show()
            true
        }
    }
}
Colored by Color Scripter
cs
 

 

avtivity_main.xml

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">
 
    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">
 
        <ddwu.com.mobile.eventtest.MyCustomView
            android:id="@+id/myCustomView"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />
    </RelativeLayout>
 
 
</androidx.constraintlayout.widget.ConstraintLayout>
